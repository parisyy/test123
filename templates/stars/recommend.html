{% extends "../layouts/base.html" %}

{% block breadcrumb %}
<ul class="breadcrumb">
  <li><a href="/stars">星光巨匠</a></li>
  <li class="divider">/</li>
  <li>我要秀图片列表</li>
</ul>
{% end %}

{% block content %}
<!-- 我要秀图片列表（最多10张） -->
{% if len(pics) == 0 %}
  <div class="well">
    <p>该用户的我要秀图片列表为空</p>
  </div>
{% else %}
  <div class="thumbnails">
    {% for pic in pics[:10] %}
      <li class="span3">
        <div class="thumbnail">
          <a href="/{{ pic.img_path + '/' + pic.pic_url + '.' + pic.img_type }}" target="_blank">
            <img src="/{{ pic.img_path + '/' + pic.pic_url + '.' + pic.img_type }}" width="100%" height="120" />
          </a>
        </div>
        <p><input type="checkbox" onclick="append({{ pic.tid }})" />选择</p>
      </li>
    {% end %}
  </div>
{% end %}

<a href="/stars/recommend_pics/edit/{{ uid }}" class="btn btn-success span2" target="_blank">新增图片</a>
{% end %}

{% block javascript %}
<script type="text/javascript">
  var counter = 0;
  var pic_ids = [];

  function append(pic_id) {
    if (counter >= 10) {
      alert("最多只能选择10张推荐图片");
      return ;
    }

    pic_ids[counter] = pic_id;
    counter += 1;
  }

  $(document).ready(function() {
    $('#nav-stars').addClass('active');
  });
</script>
{% end %}

